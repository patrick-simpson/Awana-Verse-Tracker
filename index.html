<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>Awana Verse Counter</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@800;900&family=Poppins:wght@400;600&display=swap" rel="stylesheet">

    <!-- GreenSock (GSAP) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    
    <!-- Babel for in-browser JSX compilation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
      body, html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #111;
        font-family: 'Poppins', sans-serif;
        -webkit-font-smoothing: antialiased;
        color: white;
      }
      #root {
        width: 100%;
        height: 100%;
      }
      
      /* Critical Styles to prevent FOUC (Flash of Unstyled Content) */
      .counter-text {
        font-size: 15rem;
        font-weight: 900;
        font-family: 'Nunito', sans-serif;
        line-height: 1;
        cursor: default;
        user-select: none;
        will-change: transform, opacity;
        text-align: center;
        /* Responsive sizing */
        font-variant-numeric: tabular-nums;
      }
      @media (max-width: 1024px) {
        .counter-text { font-size: 10rem; }
      }
      @media (max-width: 600px) {
        .counter-text { font-size: 6rem; }
      }

      /* Animated Gradient Background */
      .animated-bg {
        background-size: 400% 400%;
        animation: gradientFlow 15s ease infinite;
      }
      @keyframes gradientFlow {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }

      /* Admin Modal Animation */
      @keyframes slideUp {
        from { transform: translateY(20px); opacity: 0; }
        to { transform: translateY(0); opacity: 1; }
      }
      
      /* Floating Icon Animation */
      @keyframes float {
        0% { transform: translateY(0px) rotate(0deg); }
        33% { transform: translateY(-15px) rotate(2deg); }
        66% { transform: translateY(5px) rotate(-2deg); }
        100% { transform: translateY(0px) rotate(0deg); }
      }

      button:active {
        transform: scale(0.95);
      }
    </style>

    <!-- Import Map -->
    <script type="importmap">
    {
      "imports": {
        "react": "https://esm.sh/react@18.2.0",
        "react-dom/client": "https://esm.sh/react-dom@18.2.0/client?deps=react@18.2.0",
        "firebase/app": "https://www.gstatic.com/firebasejs/10.13.0/firebase-app.js",
        "firebase/database": "https://www.gstatic.com/firebasejs/10.13.0/firebase-database.js"
      }
    }
    </script>
  </head>
  <body>
    <div id="root"></div>

    <!-- MAIN APP LOGIC -->
    <script type="text/babel" data-type="module">
      import React, { useState, useEffect, useRef, useLayoutEffect } from "react";
      import { createRoot } from "react-dom/client";
      import { initializeApp } from "firebase/app";
      import { getDatabase, ref, onValue, set } from "firebase/database";

      // --- THEMES ---
      // Using CSS Gradients that are animated for a video-like feel
      const THEMES = [
        {
          id: "savanna",
          name: "Sunrise Savanna",
          gradient: "linear-gradient(-45deg, #FF512F, #DD2476, #FF9966, #FF5E62)",
          textColor: "#FFFFFF",
          accentColor: "#FFD700",
          icon: "üåÖ",
          animationType: "drop",
        },
        {
          id: "river",
          name: "River Crossing",
          gradient: "linear-gradient(-45deg, #2193b0, #6dd5ed, #2980b9, #6dd5ed)",
          textColor: "#FFFFFF",
          accentColor: "#E0F7FA",
          icon: "üåä",
          animationType: "slide",
        },
        {
          id: "jungle",
          name: "Jungle Trek",
          gradient: "linear-gradient(-45deg, #11998e, #38ef7d, #0575E6, #021B79)",
          textColor: "#FFFFFF",
          accentColor: "#76FF03",
          icon: "üå¥",
          animationType: "pop",
        },
        {
          id: "village",
          name: "Village Build",
          gradient: "linear-gradient(-45deg, #FFB75E, #ED8F03, #d299c2, #fef9d7)",
          textColor: "#5D4037",
          accentColor: "#8D6E63",
          icon: "üèòÔ∏è",
          animationType: "spin",
        },
        {
          id: "celebration",
          name: "Celebration Night",
          gradient: "linear-gradient(-45deg, #12c2e9, #c471ed, #f64f59, #667eea)",
          textColor: "#FFD700",
          accentColor: "#E1BEE7",
          icon: "‚ú®",
          animationType: "zoom",
        },
      ];

      // --- FIREBASE INIT ---
      const firebaseConfig = {
        apiKey: "AIzaSyCk0TR4SUFUvsdpIDGmH-0CzbZQQcZBL30",
        authDomain: "awana-africa-tracker.firebaseapp.com",
        databaseURL: "https://awana-africa-tracker-default-rtdb.firebaseio.com",
        projectId: "awana-africa-tracker",
        storageBucket: "awana-africa-tracker.firebasestorage.app",
        messagingSenderId: "825987576771",
        appId: "1:825987576771:web:f293d618dad3ded2c70376",
        measurementId: "G-1SMFYMQMNW"
      };

      let db = null;
      let firebaseInitialized = false;

      try {
        const app = initializeApp(firebaseConfig);
        db = getDatabase(app);
        firebaseInitialized = true;
        console.log("Firebase initialized successfully");
      } catch (e) {
        console.error("Firebase failed to load. Running in local offline mode.", e);
      }

      // --- AUDIO SYSTEM (Web Audio API) ---
      // Replaced external files with synthesis for 100% reliability
      const playSound = (type, ctx) => {
        if (!ctx) return;
        if (ctx.state === 'suspended') ctx.resume();

        const t = ctx.currentTime;

        if (type === 'pop') {
            // Whimsical "Bloop"
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            
            osc.type = 'sine';
            // Random pitch for variety
            const freq = 500 + Math.random() * 200;
            osc.frequency.setValueAtTime(freq, t);
            osc.frequency.exponentialRampToValueAtTime(freq * 0.5, t + 0.15);
            
            gain.gain.setValueAtTime(0, t);
            gain.gain.linearRampToValueAtTime(0.3, t + 0.02);
            gain.gain.exponentialRampToValueAtTime(0.01, t + 0.15);
            
            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.start(t);
            osc.stop(t + 0.2);
        } else if (type === 'celebrate') {
            // Major Chord Arpeggio (Fanfare)
            const notes = [523.25, 659.25, 783.99, 1046.50]; // C, E, G, C
            notes.forEach((note, i) => {
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                
                osc.type = 'triangle';
                osc.frequency.setValueAtTime(note, t + i * 0.08);
                
                gain.gain.setValueAtTime(0, t + i * 0.08);
                gain.gain.linearRampToValueAtTime(0.2, t + i * 0.08 + 0.05);
                gain.gain.exponentialRampToValueAtTime(0.01, t + i * 0.08 + 0.8);
                
                osc.connect(gain);
                gain.connect(ctx.destination);
                osc.start(t + i * 0.08);
                osc.stop(t + i * 0.08 + 1.0);
            });
        }
      };

      // --- COMPONENTS ---

      // 1. Start Overlay
      const StartOverlay = ({ onStart }) => {
        return (
          <div
            style={{
              position: "fixed",
              inset: 0,
              zIndex: 9999,
              backgroundColor: "rgba(0,0,0,0.9)",
              display: "flex",
              flexDirection: "column",
              alignItems: "center",
              justifyContent: "center",
              color: "white",
              backdropFilter: "blur(10px)",
            }}
          >
            <h1 style={{ marginBottom: "30px", textAlign: "center", fontFamily: 'Poppins, sans-serif' }}>
              Awana Africa<br />Verse Counter
            </h1>
            <button
              onClick={onStart}
              style={{
                padding: "20px 50px",
                fontSize: "24px",
                backgroundColor: "#FFD700",
                color: "#333",
                border: "none",
                borderRadius: "50px",
                cursor: "pointer",
                fontWeight: "900",
                boxShadow: "0 0 30px rgba(255, 215, 0, 0.6)",
                transition: "all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275)",
              }}
              onMouseEnter={(e) => (e.currentTarget.style.transform = "scale(1.1)")}
              onMouseLeave={(e) => (e.currentTarget.style.transform = "scale(1)")}
            >
              üöÄ Launch Display
            </button>
            <p style={{ marginTop: "20px", opacity: 0.6, fontSize: "0.9rem" }}>Click to enable audio & animations</p>
          </div>
        );
      };

      // 2. Admin Panel (No PIN)
      const AdminPanel = ({ currentCount, onUpdateCount, isOffline }) => {
        const [isOpen, setIsOpen] = useState(false);
        const [customVal, setCustomVal] = useState("");

        if (!isOpen) {
          return (
            <button
              onClick={() => setIsOpen(true)}
              style={{
                position: "fixed",
                bottom: "20px",
                right: "20px",
                width: "60px",
                height: "60px",
                borderRadius: "50%",
                backgroundColor: "rgba(255,255,255,0.15)",
                backdropFilter: "blur(5px)",
                border: "1px solid rgba(255,255,255,0.2)",
                cursor: "pointer",
                zIndex: 100,
                transition: "all 0.3s",
                display: "flex",
                alignItems: "center",
                justifyContent: "center",
                fontSize: "28px",
                color: "white",
                boxShadow: "0 4px 10px rgba(0,0,0,0.2)"
              }}
              onMouseEnter={(e) => {
                e.currentTarget.style.backgroundColor = "rgba(255,255,255,0.3)";
                e.currentTarget.style.transform = "rotate(90deg)";
              }}
              onMouseLeave={(e) => {
                e.currentTarget.style.backgroundColor = "rgba(255,255,255,0.15)";
                e.currentTarget.style.transform = "rotate(0deg)";
              }}
            >
              ‚öôÔ∏è
            </button>
          );
        }

        const containerStyle = {
          position: "fixed",
          bottom: "20px",
          right: "20px",
          backgroundColor: "#fff",
          padding: "25px",
          borderRadius: "20px",
          boxShadow: "0 20px 50px rgba(0,0,0,0.5)",
          zIndex: 101,
          color: "#333",
          width: "320px",
          animation: "slideUp 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275)"
        };

        const adminButtonStyle = {
          padding: "12px",
          border: "none",
          borderRadius: "12px",
          backgroundColor: "#f0f2f5",
          cursor: "pointer",
          fontWeight: "700",
          fontSize: "14px",
          transition: "all 0.2s",
          boxShadow: "0 2px 5px rgba(0,0,0,0.05)"
        };

        return (
          <div style={containerStyle}>
            <div style={{ display: "flex", justifyContent: "space-between", marginBottom: "20px", alignItems: "center" }}>
              <h3 style={{ margin: 0, fontSize: "1.2rem" }}>Control Panel</h3>
              <button
                onClick={() => setIsOpen(false)}
                style={{ 
                    border: "none", 
                    background: "#eee", 
                    borderRadius: "50%",
                    width: "30px",
                    height: "30px",
                    cursor: "pointer", 
                    display: 'flex', 
                    alignItems: 'center', 
                    justifyContent: 'center',
                    fontWeight: 'bold'
                }}
              >
                ‚úï
              </button>
            </div>

            <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr", gap: "10px", marginBottom: "15px" }}>
              <button
                onClick={() => onUpdateCount(currentCount + 1)}
                style={{...adminButtonStyle, backgroundColor: "#E3F2FD", color: "#1565C0"}}
              >
                +1 Verse
              </button>
              <button
                onClick={() => onUpdateCount(currentCount + 5)}
                style={{...adminButtonStyle, backgroundColor: "#E3F2FD", color: "#1565C0"}}
              >
                +5 Verses
              </button>
            </div>

            <div style={{ display: "flex", gap: "10px", marginBottom: "20px" }}>
              <input
                type="number"
                placeholder="Value..."
                value={customVal}
                onChange={(e) => setCustomVal(e.target.value)}
                style={{
                  flex: 1,
                  padding: "12px",
                  border: "2px solid #eee",
                  borderRadius: "12px",
                  fontSize: "16px",
                  outline: "none"
                }}
              />
              <button
                onClick={() => {
                   const val = parseInt(customVal);
                   if(!isNaN(val)) onUpdateCount(currentCount + val);
                   setCustomVal("");
                }}
                style={{...adminButtonStyle, backgroundColor: "#333", color: "white"}}
              >
                Add
              </button>
            </div>

            <button
              onClick={() => {
                if (confirm("Are you sure you want to RESET the count to 0?")) {
                  onUpdateCount(0);
                }
              }}
              style={{ ...adminButtonStyle, width: "100%", backgroundColor: "#ffebee", color: "#c62828" }}
            >
              Reset Counter
            </button>

            <div style={{ marginTop: "20px", fontSize: "12px", color: "#888", textAlign: "center", display: "flex", alignItems: "center", justifyContent: "center", gap: "6px" }}>
              <span style={{ 
                  width: "10px", 
                  height: "10px", 
                  borderRadius: "50%", 
                  backgroundColor: isOffline ? "#ff4444" : "#00C851",
                  boxShadow: `0 0 10px ${isOffline ? "#ff4444" : "#00C851"}`
              }}></span>
              {isOffline ? "Offline Mode (Local Only)" : "Live Database Connection"}
            </div>
          </div>
        );
      };

      // 3. Background FX (Whimsical Particles)
      const BackgroundFX = ({ theme }) => {
        const containerRef = useRef(null);

        useLayoutEffect(() => {
          const container = containerRef.current;
          if (!container) return;

          container.innerHTML = '';
          const particles = [];
          // More particles for better effect
          const count = window.innerWidth < 600 ? 15 : 40; 

          for (let i = 0; i < count; i++) {
            const p = document.createElement('div');
            p.style.position = 'absolute';
            p.style.opacity = '0';
            p.style.pointerEvents = 'none';
            p.style.willChange = 'transform, opacity';
            container.appendChild(p);
            particles.push(p);
          }

          const ctx = gsap.context(() => {
            if (theme.id === 'savanna') {
              // Heat Haze / Dust
              particles.forEach((p) => {
                gsap.set(p, {
                  width: gsap.utils.random(10, 30),
                  height: gsap.utils.random(10, 30),
                  backgroundColor: '#FFF',
                  borderRadius: '50%',
                  filter: 'blur(5px)',
                  x: gsap.utils.random(0, window.innerWidth),
                  y: gsap.utils.random(0, window.innerHeight),
                  opacity: gsap.utils.random(0.05, 0.2)
                });
                gsap.to(p, {
                  y: '-=150',
                  x: `+=${gsap.utils.random(-50, 50)}`,
                  opacity: 0,
                  duration: gsap.utils.random(4, 8),
                  repeat: -1,
                  ease: 'none',
                  delay: gsap.utils.random(0, 5)
                });
              });
            } else if (theme.id === 'river') {
              // Bubbles / Water particles
              particles.forEach((p) => {
                 gsap.set(p, {
                  width: gsap.utils.random(5, 15),
                  height: gsap.utils.random(5, 15),
                  border: '2px solid rgba(255,255,255,0.4)',
                  borderRadius: '50%',
                  x: gsap.utils.random(0, window.innerWidth),
                  y: window.innerHeight + 50,
                });
                gsap.to(p, {
                  y: -100,
                  x: `+=${gsap.utils.random(-100, 100)}`,
                  opacity: [0, 0.6, 0], // Fade in then out
                  duration: gsap.utils.random(6, 12),
                  repeat: -1,
                  ease: 'sine.inOut',
                  delay: gsap.utils.random(0, 8)
                });
              });
            } else if (theme.id === 'jungle') {
              // Fireflies
              particles.forEach((p) => {
                 gsap.set(p, {
                  width: gsap.utils.random(4, 6),
                  height: gsap.utils.random(4, 6),
                  backgroundColor: '#CCFF00',
                  borderRadius: '50%',
                  boxShadow: '0 0 15px #CCFF00',
                  x: gsap.utils.random(0, window.innerWidth),
                  y: gsap.utils.random(0, window.innerHeight),
                  opacity: 0
                });
                // Blink
                gsap.to(p, {
                  opacity: gsap.utils.random(0.4, 1),
                  duration: gsap.utils.random(1, 3),
                  yoyo: true,
                  repeat: -1,
                  ease: 'sine.inOut',
                  delay: gsap.utils.random(0, 2)
                });
                // Wander
                gsap.to(p, {
                  x: `+=${gsap.utils.random(-200, 200)}`,
                  y: `+=${gsap.utils.random(-100, 100)}`,
                  duration: gsap.utils.random(10, 20),
                  repeat: -1,
                  yoyo: true,
                  ease: 'sine.inOut'
                });
              });
            } else if (theme.id === 'village') {
              // Building blocks / Geometric
              particles.forEach((p) => {
                const size = gsap.utils.random(20, 40);
                gsap.set(p, {
                  width: size,
                  height: size,
                  backgroundColor: 'rgba(255,255,255,0.1)',
                  borderRadius: '4px',
                  x: gsap.utils.random(0, window.innerWidth),
                  y: window.innerHeight + 50,
                  rotation: gsap.utils.random(0, 360),
                });
                gsap.to(p, {
                  y: -100,
                  rotation: '+=180',
                  duration: gsap.utils.random(10, 15),
                  repeat: -1,
                  ease: 'linear',
                  delay: gsap.utils.random(0, 10)
                });
              });
            } else if (theme.id === 'celebration') {
              // Confetti
              particles.forEach((p) => {
                 const colors = ['#FFD700', '#FF69B4', '#00BFFF', '#FFF', '#76FF03'];
                 gsap.set(p, {
                  width: gsap.utils.random(8, 12),
                  height: gsap.utils.random(8, 12),
                  backgroundColor: gsap.utils.random(colors),
                  x: gsap.utils.random(0, window.innerWidth),
                  y: -50,
                  rotation: gsap.utils.random(0, 360),
                });
                gsap.to(p, {
                  y: window.innerHeight + 50,
                  rotationX: '+=720',
                  rotationY: '+=360',
                  x: `+=${gsap.utils.random(-100, 100)}`,
                  duration: gsap.utils.random(3, 5),
                  repeat: -1,
                  ease: 'linear',
                  delay: gsap.utils.random(0, 3)
                });
              });
            }
          }, containerRef);

          return () => ctx.revert();
        }, [theme]);

        return <div ref={containerRef} style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', zIndex: 1, pointerEvents: 'none' }} />;
      }

      // 4. Main App
      const App = () => {
        const [hasStarted, setHasStarted] = useState(false);
        const [count, setCount] = useState(0);
        const [prevCount, setPrevCount] = useState(0);
        const [isOffline, setIsOffline] = useState(!firebaseInitialized);
        
        const numberRef = useRef(null);
        const bgRef = useRef(null);
        const audioContextRef = useRef(null);

        const themeIndex = Math.min(Math.floor(count / 100), THEMES.length - 1);
        const currentTheme = THEMES[themeIndex] || THEMES[0];

        // Init Audio
        const initAudio = () => {
          try {
            const AudioContext = window.AudioContext || window.webkitAudioContext;
            audioContextRef.current = new AudioContext();
          } catch (e) {
            console.error("Audio init error", e);
          }
          setHasStarted(true);
        };

        const triggerSound = (type) => {
           if (audioContextRef.current) {
               playSound(type, audioContextRef.current);
           }
        };

        // Firebase Sync
        useEffect(() => {
          if (!db) {
            setIsOffline(true);
            return;
          }

          try {
            const countRef = ref(db, "verse_count");
            const unsubscribe = onValue(countRef, (snapshot) => {
              setIsOffline(false);
              const val = snapshot.val();
              // Only update if valid number
              if (typeof val === 'number') {
                setCount((prev) => {
                  setPrevCount(prev);
                  return val;
                });
              }
            }, (error) => {
              console.error("Firebase Read Error:", error);
              setIsOffline(true);
            });
            return () => unsubscribe();
          } catch (err) {
            console.error("Firebase Connection Error:", err);
            setIsOffline(true);
          }
        }, []);

        // Update Handler
        const handleUpdateCount = (newValue) => {
          setPrevCount(count);
          setCount(newValue);

          if (db && !isOffline) {
            set(ref(db, "verse_count"), newValue).catch((err) => {
              console.error("Failed to sync to firebase, staying local", err);
              setIsOffline(true);
            });
          }
        };

        // Animations & Logic
        useEffect(() => {
          if (!hasStarted) return;
          if (count === prevCount) return;

          const isLevelUp = Math.floor(count / 100) > Math.floor(prevCount / 100);
          const isIncrease = count > prevCount;

          if (isLevelUp) triggerSound("celebrate");
          else if (isIncrease) triggerSound("pop");

          if (numberRef.current && window.gsap) {
            const tl = window.gsap.timeline();
            window.gsap.set(numberRef.current, { clearProps: "all" });

            // Robust Animation Logic
            switch (currentTheme.animationType) {
              case "drop":
                 tl.fromTo(numberRef.current, 
                   { y: -100, scaleY: 1.5, scaleX: 0.8, opacity: 0 }, 
                   { y: 0, scaleY: 1, scaleX: 1, opacity: 1, duration: 0.6, ease: "elastic.out(1, 0.5)" }
                 );
                 break;
              case "slide":
                tl.fromTo(numberRef.current,
                  { x: 300, skewX: -30, opacity: 0 },
                  { x: 0, skewX: 0, opacity: 1, duration: 0.5, ease: "power4.out" }
                );
                break;
              case "pop":
                tl.fromTo(numberRef.current,
                  { scale: 0.2, rotation: -15, opacity: 0 },
                  { scale: 1, rotation: 0, opacity: 1, duration: 0.5, ease: "back.out(2)" }
                );
                break;
              case "spin":
                tl.fromTo(numberRef.current,
                  { rotationX: 90, opacity: 0, y: 50 },
                  { rotationX: 0, opacity: 1, y: 0, duration: 0.7, ease: "expo.out" }
                );
                break;
              case "zoom":
              default:
                tl.fromTo(numberRef.current,
                  { scale: 3, opacity: 0, filter: "blur(20px)" },
                  { scale: 1, opacity: 1, filter: "blur(0px)", duration: 0.8, ease: "circ.out" }
                );
                break;
            }
          }
          
          if (count !== prevCount) {
              setPrevCount(count);
          }
        }, [count, hasStarted, currentTheme]);

        if (!hasStarted) {
          return <StartOverlay onStart={initAudio} />;
        }

        return (
          <div
            className="animated-bg"
            ref={bgRef}
            style={{
              width: "100%",
              height: "100%",
              background: currentTheme.gradient,
              backgroundSize: '400% 400%',
              display: "flex",
              flexDirection: "column",
              alignItems: "center",
              justifyContent: "center",
              transition: "background-image 1s ease-in-out",
              position: "relative",
              overflow: "hidden",
            }}
          >
            {/* Ambient Particles */}
            <BackgroundFX theme={currentTheme} />

            {/* Background Floating Icon */}
            <div
              style={{
                position: "absolute",
                fontSize: "50vh",
                opacity: 0.15,
                pointerEvents: "none",
                userSelect: "none",
                animation: "float 6s ease-in-out infinite",
                zIndex: 2,
                filter: 'drop-shadow(0 0 20px rgba(255,255,255,0.3))'
              }}
            >
              {currentTheme.icon}
            </div>

            {/* Header */}
            <div
              style={{
                position: "absolute",
                top: "5%",
                textAlign: "center",
                color: currentTheme.textColor,
                zIndex: 20,
                width: "100%"
              }}
            >
              <h2 style={{ 
                margin: 0, 
                fontSize: "clamp(1.5rem, 4vw, 2.5rem)", 
                textTransform: "uppercase", 
                letterSpacing: "4px", 
                textShadow: "0 2px 10px rgba(0,0,0,0.2)",
                opacity: 0.9
              }}>
                Verses Recited
              </h2>
            </div>

            {/* Counter */}
            <div
              ref={numberRef}
              className="counter-text"
              style={{
                color: currentTheme.textColor,
                textShadow: `0 10px 30px rgba(0,0,0,0.3), 4px 4px 0px ${currentTheme.accentColor}`,
                zIndex: 10,
              }}
            >
              {count}
            </div>

            {/* Admin */}
            <AdminPanel 
              currentCount={count} 
              onUpdateCount={handleUpdateCount} 
              isOffline={isOffline}
            />
          </div>
        );
      };

      // MOUNT
      const root = createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>